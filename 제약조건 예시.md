# NN 제약조건

두 가지 방법

```sql
-- 제약조건 이름이 없는 경우
CREATE TABLE account_info (
    id NUMBER,
    email VARCHAR2(128) NOT NULL
);

-- 제약조건 이름이 있는 경우
CREATE TABLE account_info (
    id NUMBER,
    email VARCHAR2(128) CONSTRAINT account_info_email_nn NOT NULL
);
```
실제로 테스트 해보기

```sql
INSERT INTO account_info(id, email) VALUES (1, 'abc@gmail.com');
INSERT INTO account_info(id, email) VALUES (2, NULL);
UPDATE account_info SET email = NULL WHERE id = 1;
```

# UQ 제약조건

세 가지 방법

```sql
-- 칼럼 레벨
CREATE TABLE account_info (
    id NUMBER,
    email VARCHAR2(128) UNIQUE
);

-- 칼럼 레벨
CREATE TABLE account_info (
    id NUMBER,
    email VARCHAR2(128) CONSTRAINT account_info_email_uq UNIQUE
);

-- 테이블 레벨
CREATE TABLE account_info(
    id NUMBER,
    email VARCHAR2(128),
    CONSTRAINT account_info_email_uq UNIQUE (email)
)
```

테스트 데이터

```sql
INSERT INTO account_info(id, email) VALUES (1, 'abc@gmail.com');
INSERT INTO account_info(id, email) VALUES (2, 'abcd@gmail.com');
UPDATE account_info SET email = 'abc@gmail.com' WHER
Neoul One님이 모두에게:  11:55 AM

# PK 제약조건

```

```sql
CREATE TABLE account_info (
    id NUMBER PRIMARY KEY,
    email VARCHAR2(128) UNIQUE
);

CREATE TABLE account_info (
    id NUMBER CONSTRAINT account_info_pk PRIMARY KEY,
    email VARCHAR2(128) UNIQUE
);

CREATE TABLE account_info (
    id NUMBER,
    email VARCHAR2(128) UNIQUE,
    CONSTRAINT account_info_pk PRIMARY KEY (id)
);
```

테스트 데이터

```sql
SELECT * FROM account_info;
INSERT INTO account_info(id, email) VALUES (1, 'abc@gmail.com');
INSERT INTO account_info(id, email) VALUES (1, 'abcd@gmail.com');
INSERT INTO account_info(id, email) VALUES (NULL, 'abcd@gmail.com');
```

# FK 제약조건

```sql
CREATE TABLE account_authentication (
    id NUMBER PRIMARY KEY,
    password VARCHAR2(128) NOT NULL,
    account_info_id NUMBER,
    CONSTRAINT account_info_fk FOREIGN KEY (account_info_id) REFERENCES account_info(id)
);
```

테스트 데이터

```sql
SELECT * FROM account_info;
INSERT INTO account_info(id, email) VALUES (1, 'abc@gmail.com');
SELECT* FROM account_authentication;
INSERT INTO account_authentication(id, password, account_info_id) VALUES(1, '1234', 1);
INSERT INTO account_authentication(id, password, account_info_id) VALUES(1, '1234', 2);
```

# 자바로 표현했을때
```java
public class AccountInfo {
    private Long id;
    private String email;
}

public class AccountAuthentication {
    private Long id;
    private String password;
    private Account account;
}
```


# 예시 
```sql

DROP TABLE Account_info1; 
CREATE TABLE Account_info1(  --테이블 생성
    id NUMBER PRIMARY KEY,   -- 아이디를 숫자지정   PRIMARY KEY  지정 
    email VARCHAR2(128) CONSTRAINT account_info1 NOT NULL  
  
);
 
INSERT INTO account_info1(id,email) VALUES(123,NULL);   
INSERT INTO account_info1(id,email) VALUES(123,'acb@gmail.com');
INSERT INTO account_info1(id,email) VALUES(124,'acbb@gmail.com');
SELECT * FROM Account_info1  --테이블은 본다


```


 
```sql
DROP TABLE Account_info2;
CREATE TABLE Account_info2;(
 id NUMBER PRIMARY KEY,
 email VARCHAR2(128);
 CONSTRAINT account_info_email_uq UNIQUE (email)
);
INSERT INTO account_info1(id,email) VALUES(1,'acb@gma');
INSERT INTO account_info1(id,email) VALUES(2,'acb@gma');
INSERT INTO account_info1(id,email) VALUES(2,null);
SELECT * FROM user_tables;
```

```sql
CREATE TABLE account_authentcation(
id NUMBER,
password VARCHAR2(128) CONSTRAINT account_authentication_pwd_nn NOT NULL,
CONSTRAINT account_authentication_pk PRIMARY KEY(id)

);
SELECT * FROM account_authentcation
```

```sql

-- CONSTRAINT 제약조건이름
-- FOREIGN KEY (지정할 칼럼)
-- REFERENCES 참조할_테이블(참조할_테이블의_칼럼)


```